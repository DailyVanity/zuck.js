var Zuck=function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=0)}([function(e,t,a){e.exports=function(a){var n=function(e){return document.querySelectorAll(e)[0]},i=function(e,t){return e&&e[t]||""},o=function(e,t){if(e)for(var a=e.length,n=0;n<a;n++)t(n,e[n])},c=function(e,t,a){var n=[t.toLowerCase(),"webkit".concat(t),"MS".concat(t),"o".concat(t)];o(n,(function(t,n){e[n]=a}))},r=function(e,t,a){var n=[a.toLowerCase(),"webkit".concat(a),"MS".concat(a),"o".concat(a)];o(n,(function(a,n){e.addEventListener(n,t,!1)}))},s=function(e,t){r(e,t,"AnimationEnd")},l=function(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},d=function(e,t){var d=this,u=function(e,a){var n=function(e){return void 0!==e};return a?n(t[e])&&n(t[e][a])?t[e][a]:h[e][a]:n(t[e])?t[e]:h[e]},m=function(e,t){var a="RequestFullScreen";try{t?(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen().catch((function(){})):(document.mozCancelFullScreen||document.mozCancelFullScreen)&&document.mozCancelFullScreen().catch((function(){}))):e.requestFullScreen?e.requestFullScreen():e["ms".concat(a)]?e["ms".concat(a)]():e["moz".concat(a)]?e["moz".concat(a)]():e["webkit".concat(a)]&&e["webkit".concat(a)]()}catch(e){console.warn("[Zuck.js] Can't access fullscreen")}},v=function(e,t,a,i){var o=t>0?1:-1,r=Math.abs(t)/n("#zuck-modal").offsetWidth*90*o;if(u("cubeEffect")){var s=0===r?"scale(0.95)":"scale(0.930,0.930)";if(c(n("#zuck-modal-content").style,"Transform",s),r<-90||r>90)return!1}var l=u("cubeEffect")?"rotateY(".concat(r,"deg)"):"translate3d(".concat(t,"px, 0, 0)");e&&(c(e.style,"TransitionTimingFunction",i),c(e.style,"TransitionDuration","".concat(a,"ms")),c(e.style,"Transform",l))},f=function(e,t,a,n){var i=0,o=0;if(e){if(e.offsetParent)do{if(i+=e.offsetLeft,o+=e.offsetTop,e===n)break}while(e=e.offsetParent);t&&(o-=t),a&&(i-=a)}return[i,o]};"string"==typeof e&&(e=document.getElementById(e)),e.id||e.setAttribute("id","stories-"+Math.random().toString(36).substr(2,9));var p=function(e){e=1e3*Number(e);var t=new Date(e),a=t.getTime(),n=((new Date).getTime()-a)/1e3,i=u("language","time"),c=[[60," ".concat(i.seconds),1],[120,"1 ".concat(i.minute),""],[3600," ".concat(i.minutes),60],[7200,"1 ".concat(i.hour),""],[86400," ".concat(i.hours),3600],[172800," ".concat(i.yesterday),""],[604800," ".concat(i.days),86400]],r=1;n<0&&(n=Math.abs(n),r=2);var s=!1;if(o(c,(function(e,t){n<t[0]&&!s&&("string"==typeof t[2]?s=t[r]:null!==t&&(s=Math.floor(n/t[2])+t[1]))})),s)return s;var l=t.getDate(),d=t.getMonth(),m=t.getFullYear();return"".concat(l,"/").concat(d+1,"/").concat(m)},y=e.id,h={rtl:!1,skin:"snapgram",avatars:!0,stories:[],backButton:!0,backNative:!1,paginationArrows:!1,previousTap:!0,autoFullScreen:!1,openEffect:!0,cubeEffect:!1,list:!1,localStorage:!0,callbacks:{onOpen:function(e,t){t()},onView:function(e){},onEnd:function(e,t){t()},onClose:function(e,t){t()},onNextItem:function(e,t,a){a()},onNavigateItem:function(e,t,a){a()}},template:{timelineItem:function(e){return"\n            ".concat(i(e,"photo")?"":'<div class="row">','\n            <div class="story ').concat(!0===i(e,"seen")?"seen":"",'">\n              <a class="item-link" href="').concat(i(e,"link"),'">\n                ').concat(i(e,"photo")?'<span class="item-preview">\n                  <img lazy="eager" src="'.concat(u("avatars")||!i(e,"currentPreview")?i(e,"photo"):i(e,"currentPreview"),'" />\n                </span>'):'<span class="item-preview" style="display: none"></span>','\n                <span class="info" itemProp="author" itemScope itemType="http://schema.org/Person">\n                  <strong class="name poppins-medium" itemProp="name">').concat(i(e,"name"),'</strong>\n                </span>\n              </a>\n              <ul class="items"></ul>\n            </div>\n            ').concat(i(e,"photo")?"":"</div>")},timelineStoryItem:function(e){var t=["id","seen","src","link","linkText","time","type","length","preview"],a='\n            href="'.concat(i(e,"src"),'"\n            data-link="').concat(i(e,"link"),'"\n            data-linkText="').concat(i(e,"linkText"),'"\n            data-time="').concat(i(e,"time"),'"\n            data-type="').concat(i(e,"type"),'"\n            data-length="').concat(i(e,"length"),'"\n          ');for(var n in e)-1===t.indexOf(n)&&(a+=" data-".concat(n,'="').concat(e[n],'"'));return"<a ".concat(a,'>\n                    <img loading="auto" src="').concat(i(e,"preview"),'" />\n                  </a>')},viewerItem:function(e,t){return'<div class="story-viewer">\n                    <div class="head">\n                      <div class="left">\n                       \n                        \n                        '.concat(i(e,"photo")?'<span class="item-preview">\n                          <img lazy="eager" class="profilePhoto" src="'.concat(i(e,"photo"),'" />\n                        </span>'):"",'\n\n                        <div class="info">\n                          <strong class="name poppins-medium">').concat(i(e,"name"),'</strong>\n                        </div>\n                      </div>\n\n                      <div class="right">\n                        <a class="paused_story poppins-light"><i class="far fa-pause-circle fa-2x" aria-hidden="true"></i> <span class="text">PAUSE</span></a>\n                        <a class="play_story poppins-light" style="display:none";><i class="far fa-play-circle fa-2x" aria-hidden="true"></i> <span class="text">PLAY</span></a>\n                        &nbsp;&nbsp;&nbsp;&nbsp;\n                        <span class="loading"></span>\n                         ').concat(u("backButton")?'<a class="back" tabIndex="2">&times;</a>':"",'\n                      </div>\n                    </div>\n\n                    <div class="slides-pointers">\n                      <div class="wrap"></div>\n                    </div>\n\n                    ').concat(u("paginationArrows")?'<div class="slides-pagination">\n                          <span class="previous"><i class="fas fa-chevron-circle-left fa-xs"></i></span>\n                          <div class="storyline"></div>\n                          <span class="next"><i class="fas fa-chevron-circle-right fa-xs"></i></span>\n                        </div>':"","\n                  </div>")},viewerItemPointer:function(e,t,a){return'<span \n                    class="'.concat(t===e?"active":""," ").concat(!0===i(a,"seen")?"seen":"",'"\n                    data-index="').concat(e,'" data-item-id="').concat(i(a,"id"),'">\n                      <b style="animation-duration:').concat(""===i(a,"length")?"3":i(a,"length"),'s"></b>\n                  </span>')},viewerItemBody:function(e,t,a){return'<div \n                    class="item '.concat(!0===i(a,"seen")?"seen":""," ").concat(t===e?"active":"",'"\n                    data-time="').concat(i(a,"time"),'" data-type="').concat(i(a,"type"),'" data-index="').concat(e,'" data-item-id="').concat(i(a,"id"),'">\n                    ').concat("video"===i(a,"type")?'<video class="media" muted webkit-playsinline playsinline preload="auto" src="'.concat(i(a,"src"),'" ').concat(i(a,"type"),'></video>\n                        <b class="tip muted">').concat(u("language","unmute"),"</b>"):'<img loading="auto" class="media" src="'.concat(i(a,"src"),'" ').concat(i(a,"type")," />\n                    "),"\n\n                    ").concat(i(a,"link")?'<a class="tip link" href="'.concat(i(a,"link"),'" rel="noopener" target="_blank">\n                            ').concat(i(a,"linkText")&&""!==i(a,"linkText")?i(a,"linkText"):u("language","visitLink"),"\n                          </a>"):"","\n        \n                    ").concat(i(a,"link")?'<a class="tip read-moreh read-more-btn-highlights inter-bold" href="'.concat(i(a,"link"),'" rel="noopener" target="_blank">\n                          READ MORE <i class="fas fa-arrow-right"></i>\n                          </a>'):"","\n\n                    ").concat(i(a,"link")?'<div class="L_story_social">\n                            <ul class="list-inline">\n                              <li class="list-inline-item"><a href="https://api.whatsapp.com/send?text='.concat(i(a,"link"),'" class="tip whatsapp" target="_blank"> <i class="fab fa-whatsapp"></i></a></li>\n                              <li class="list-inline-item"><a href="https://telegram.me/share/url?url=').concat(i(a,"link"),'" class="tip telegram" target="_blank"> <i class="fa fa-paper-plane"></i></a></li>\n                              <li class="list-inline-item"><a href="https://www.facebook.com/sharer/sharer.php?u=').concat(i(a,"link"),'" class="tip facebook" target="blank"> <i class="fab fa-facebook-f"></i></a></li>\n                              <li class="list-inline-item"><a href="#" class="tip copy">COPY LINK</a></li></ul></div>'):"","\n                  </div>")}},language:{unmute:"Touch to unmute",keyboardTip:"Press space to see next",visitLink:"Visit link",time:{ago:"ago",hour:"hour ago",hours:"hours ago",minute:"minute ago",minutes:"minutes ago",fromnow:"from now",seconds:"seconds ago",yesterday:"yesterday",tomorrow:"tomorrow",days:"days ago"}}},g=function(){var e,t,c=n("#zuck-modal");c||d.hasModal||(d.hasModal=!0,(c=document.createElement("div")).id="zuck-modal",u("cubeEffect")&&(c.className="with-cube"),c.innerHTML='<div id="zuck-modal-content"></div>',c.style.display="none",c.setAttribute("tabIndex","1"),c.onkeyup=function(e){var t=e.keyCode;27===t?g.close():13!==t&&32!==t||g.next()},u("openEffect")&&c.classList.add("with-effects"),u("rtl")&&c.classList.add("rtl"),t=function(){c.classList.contains("closed")&&(h.innerHTML="",c.style.display="none",c.classList.remove("closed"),c.classList.remove("animated"))},(e=c).transitionEndEvent||(e.transitionEndEvent=!0,r(e,t,"TransitionEnd")),document.body.appendChild(c));var h=n("#zuck-modal-content"),b=function(e){var t=n("#zuck-modal"),a="",i="",o=0,c=n("#zuck-modal-slider-".concat(y)),r={previous:n("#zuck-modal .story-viewer.previous"),next:n("#zuck-modal .story-viewer.next"),viewing:n("#zuck-modal .story-viewer.viewing")};if((!r.previous&&!e||!r.next&&e)&&!u("rtl"))return!1;e?(a="next",i="previous"):(a="previous",i="next");u("cubeEffect")?"previous"===a?o=t.slideWidth:"next"===a&&(o=-1*t.slideWidth):o=-1*f(r[a])[0],v(c,o,600,null),setTimeout((function(){if(u("rtl")){var e=a;a=i,i=e}if(""!==a&&r[a]&&""!==i){var t=r[a].getAttribute("data-story-id");d.internalData.currentStory=t;var o=n("#zuck-modal .story-viewer.".concat(i));o&&o.parentNode.removeChild(o),r.viewing&&(r.viewing.classList.add("stopped"),r.viewing.classList.add(i),r.viewing.classList.remove("viewing")),r[a]&&(r[a].classList.remove("stopped"),r[a].classList.remove(a),r[a].classList.add("viewing"));var l=k(a);l&&A(l,a);var m=d.internalData.currentStory,f=n('#zuck-modal [data-story-id="'.concat(m,'"]'));if(f){var p=(f=f.querySelectorAll("[data-index].active"))[0].firstElementChild;d.data[m].currentItem=parseInt(f[0].getAttribute("data-index"),10),f[0].innerHTML='<b style="'.concat(p.style.cssText,'"></b>'),s(f[0].firstElementChild,(function(){d.nextItem(!1)}))}if(v(c,"0",0,null),f){var y=n('#zuck-modal .story-viewer[data-story-id="'.concat(t,'"]'));x(y,[f[0],f[1]],!0)}u("callbacks","onView")(d.internalData.currentStory)}}),650)},A=function(e,t,a){var c=n("#zuck-modal-slider-".concat(y)),r=i(e,"items");e.timeAgo=r&&r[0]?p(i(r[0],"time")):"";var m="",v="",f=i(e,"id"),h=document.createElement("div"),b=i(e,"currentItem")||0;if(n('#zuck-modal .story-viewer[data-story-id="'.concat(f,'"]')))return!1;h.className="slides",o(r,(function(t,a){a.timeAgo=p(i(a,"time")),b>t&&(e.items[t].timeAgo=a.timeAgo,e.items[t].seen=!0,a.seen=!0),v+=u("template","viewerItemPointer")(t,b,a),m+=u("template","viewerItemBody")(t,b,a)})),h.innerHTML=m;var k=h.querySelector("video"),w=function(e){e.muted?S.classList.add("muted"):S.classList.remove("muted")};k&&(k.onwaiting=function(e){k.paused&&(S.classList.add("paused"),S.classList.add("loading"))},k.onplay=function(){w(k),S.classList.remove("stopped"),S.classList.remove("paused"),S.classList.remove("loading")},k.onload=k.onplaying=k.oncanplay=function(){w(k),S.classList.remove("loading")},k.onvolumechange=function(){w(k)});var L=document.createElement("div");L.innerHTML=u("template","viewerItem")(e,b);var S=L.firstElementChild;S.className="story-viewer muted ".concat(t," ").concat(a?"":"stopped"," ").concat(u("backButton")?"with-back-button":""),S.setAttribute("data-story-id",f),S.querySelector(".slides-pointers .wrap").innerHTML=v,o(S.querySelectorAll(".close, .back"),(function(e,t){t.onclick=function(e){e.preventDefault(),g.close()}})),o(S.querySelectorAll(".paused_story"),(function(e,t){t.onclick=function(e){e.preventDefault(),S.classList.add("paused"),S.querySelector(".paused_story").style.display="none",S.querySelector(".play_story").style.display="inline-block",S.querySelector(".play_story").innerHTML="<i class='far fa-play-circle fa-2x' aria-hidden='true'></i> <span class='text'>PLAY</span>"}})),o(S.querySelectorAll(".play_story"),(function(e,t){t.onclick=function(e){e.preventDefault(),S.classList.remove("paused"),S.querySelector(".paused_story").style.display="inline-block",S.querySelector(".play_story").style.display="none",S.querySelector(".paused_story").innerHTML="<i class='far fa-pause-circle fa-2x' aria-hidden='true'></i> <span class='text'>PAUSE</span>"}})),S.appendChild(h),"viewing"===t&&x(S,S.querySelectorAll('[data-index="'.concat(b,'"].active')),!1),o(S.querySelectorAll(".slides-pointers [data-index] > b"),(function(e,t){s(t,(function(){d.nextItem(!1)}))})),"previous"===t?l(c,S):c.appendChild(S)};return{show:function(e,t){var i=n("#zuck-modal");u("callbacks","onOpen")(e,(function(){h.innerHTML='<div id="zuck-modal-slider-'.concat(y,'" class="slider"></div>');var t=d.data[e],o=t.currentItem||0;!function(e){var t=n("#zuck-modal"),i=e,o={},c=null,r=null,s=null,l=null,m=null,p=function(e){var a=n("#zuck-modal .viewing");if("A"!==e.target.nodeName){var d=e.touches?e.touches[0]:e,u=f(n("#zuck-modal .story-viewer.viewing"));t.slideWidth=n("#zuck-modal .story-viewer").offsetWidth,t.slideHeight=n("#zuck-modal .story-viewer").offsetHeight,o={x:u[0],y:u[1]};var v=d.clientX,p=d.clientY;c={x:v,y:p,time:Date.now(),valid:!0},p<80||p>t.slideHeight-80?c.valid=!1:(e.preventDefault(),r=void 0,s={},i.addEventListener("mousemove",y),i.addEventListener("mouseup",h),i.addEventListener("mouseleave",h),i.addEventListener("touchmove",y),i.addEventListener("touchend",h),a&&a.classList.add("paused"),L(),l=setTimeout((function(){a.classList.add("longPress")}),600),m=setTimeout((function(){clearInterval(m),m=!1}),250))}},y=function(e){var t=e.touches?e.touches[0]:e,a=t.clientX,n=t.clientY;c&&c.valid&&(s={x:a-c.x,y:n-c.y},void 0===r&&(r=!!(r||Math.abs(s.x)<Math.abs(s.y))),!r&&c&&(e.preventDefault(),v(i,o.x+s.x,0,null)))},h=function e(f){var p=n("#zuck-modal .viewing"),h=c,g=c?Date.now()-c.time:void 0,k=Number(g)<300&&Math.abs(s.x)>25||Math.abs(s.x)>t.slideWidth/3,w=s.x<0,L=n(w?"#zuck-modal .story-viewer.next":"#zuck-modal .story-viewer.previous"),E=w&&!L||!w&&!L;if(c&&!c.valid);else{s&&(r||(k&&!E?b(w):v(i,o.x,300)),c=void 0,i.removeEventListener("mousemove",y),i.removeEventListener("mouseup",e),i.removeEventListener("mouseleave",e),i.removeEventListener("touchmove",y),i.removeEventListener("touchend",e));var A=d.internalData.currentVideoElement;if(l&&clearInterval(l),p&&(x(p,p.querySelectorAll(".active"),!1),p.classList.remove("longPress"),p.classList.remove("paused")),m){clearInterval(m),m=!1;var I=function(){w||(h.x>a.screen.availWidth/3||!u("previousTap")?u("rtl")?d.navigateItem("previous",f):d.navigateItem("next",f):u("rtl")?d.navigateItem("next",f):d.navigateItem("previous",f))},T=n("#zuck-modal .viewing");if(!T||!A)return I(),!1;T.classList.contains("muted")?S(A,T):I()}}};i.addEventListener("touchstart",p),i.addEventListener("mousedown",p)}(n("#zuck-modal-slider-".concat(y))),d.internalData.currentStory=e,t.currentItem=o,u("backNative")&&(a.location.hash="#!".concat(y));var c=k("previous");c&&A(c,"previous"),A(t,"viewing",!0);var r=k("next");r&&A(r,"next"),u("autoFullScreen")&&i.classList.add("fullscreen");var s=function(){i.classList.contains("fullscreen")&&u("autoFullScreen")&&a.screen.availWidth<=1024&&m(i),i.focus()};if(u("openEffect")){var l=n("#".concat(y,' [data-id="').concat(e,'"] .item-preview')),p=f(l);i.style.marginLeft="".concat(p[0]+l.offsetWidth/2,"px"),i.style.marginTop="".concat(p[1]+l.offsetHeight/2,"px"),i.style.display="block",i.slideWidth=n("#zuck-modal .story-viewer").offsetWidth,setTimeout((function(){i.classList.add("animated")}),10),setTimeout((function(){s()}),300)}else i.style.display="block",i.slideWidth=n("#zuck-modal .story-viewer").offsetWidth,s();u("callbacks","onView")(e)}))},next:function(e){u("callbacks","onEnd")(d.internalData.currentStory,(function(){var e=d.internalData.currentStory,t=n("#".concat(y,' [data-id="').concat(e,'"]'));t&&(t.classList.add("seen"),d.data[e].seen=!0,d.internalData.seenItems[e]=!0,E("seenItems",d.internalData.seenItems),w()),n("#zuck-modal .story-viewer.next")?u("rtl")?b(!1):b(!0):g.close()}))},close:function(){var e=n("#zuck-modal");u("callbacks","onClose")(d.internalData.currentStory,(function(){u("backNative")&&(a.location.hash=""),m(e,!0),u("openEffect")?e.classList.add("closed"):(h.innerHTML="",e.style.display="none")}))}}}(),b=function(e,t){var a=e.getAttribute("data-id"),n=!1;d.internalData.seenItems[a]&&(n=!0);try{d.data[a]||(d.data[a]={}),d.data[a].id=a,d.data[a].photo=e.getAttribute("data-photo"),d.data[a].name=e.querySelector(".name").innerText,d.data[a].link=e.querySelector(".item-link").getAttribute("href"),d.data[a].lastUpdated=e.getAttribute("data-last-updated"),d.data[a].seen=n,d.data[a].items||(d.data[a].items=[],d.data[a].noItems=!0)}catch(e){d.data[a]={items:[]}}e.onclick=function(e){e.preventDefault(),g.show(a)};var i=u("callbacks","onDataUpdate");i&&i(d.data,(function(){}))},k=function(e){var t=d.internalData.currentStory,a="".concat(e,"ElementSibling");if(t){var i=n("#".concat(y,' [data-id="').concat(t,'"]'))[a];if(i){var o=i.getAttribute("data-id");return d.data[o]||!1}}return!1},w=function(){o(document.querySelectorAll("#".concat(y," .story.seen")),(function(e,t){var a=d.data[t.getAttribute("data-id")],n=t.parentNode;u("reactive")||n.removeChild(t),d.update(a,!0)}))},x=function(e,t,a){var n=t[1],i=t[0];if(!n||!i)return!1;var o=d.internalData.currentVideoElement;if(o&&o.pause(),"video"===n.getAttribute("data-type")){var r=n.getElementsByTagName("video")[0];if(!r)return d.internalData.currentVideoElement=!1,!1;var s=function(){r.duration&&c(i.getElementsByTagName("b")[0].style,"AnimationDuration","".concat(r.duration,"s"))};s(),r.addEventListener("loadedmetadata",s),d.internalData.currentVideoElement=r,r.play(),a&&a.target&&S(r,e)}else d.internalData.currentVideoElement=!1},L=function(){var e=d.internalData.currentVideoElement;if(e)try{e.pause()}catch(e){}},S=function(e,t){e.muted=!1,e.volume=1,e.removeAttribute("muted"),e.play(),e.paused&&(e.muted=!0,e.play()),t&&t.classList.remove("paused")},E=function(e,t){try{if(u("localStorage")){var n="zuck-".concat(y,"-").concat(e);a.localStorage[n]=JSON.stringify(t)}}catch(e){}},A=function(e){if(u("localStorage")){var t="zuck-".concat(y,"-").concat(e);return!!a.localStorage[t]&&JSON.parse(a.localStorage[t])}return!1};d.data=u("stories")||{},d.internalData={},d.internalData.seenItems=A("seenItems")||{},d.add=d.update=function(t,a){var c,r=i(t,"id"),s=n("#".concat(y,' [data-id="').concat(r,'"]')),m=i(t,"items"),v=!1;if(m[0]&&(v=m[0].preview||""),!0===d.internalData.seenItems[r]&&(t.seen=!0),t.currentPreview=v,s)c=s;else{var f=document.createElement("div");f.innerHTML=u("template","timelineItem")(t),c=f.firstElementChild}!1===t.seen&&(d.internalData.seenItems[r]=!1,E("seenItems",d.internalData.seenItems)),c.setAttribute("data-id",r),c.setAttribute("data-photo",i(t,"photo")),c.setAttribute("data-last-updated",i(t,"lastUpdated")),b(c),s||u("reactive")||(a?e.appendChild(c):l(e,c)),o(m,(function(e,t){d.addItem(r,t,a)})),a||w()},d.next=function(){g.next()},d.remove=function(e){var t=n("#".concat(y,' > [data-id="').concat(e,'"]'));t.parentNode.removeChild(t)},d.addItem=function(e,t,a){var c=n("#".concat(y,' > [data-id="').concat(e,'"]'));if(!u("reactive")){var r=document.createElement("li"),s=c.querySelectorAll(".items")[0];r.className=i(t,"seen")?"seen":"",r.setAttribute("data-id",i(t,"id")),r.innerHTML=u("template","timelineStoryItem")(t),a?s.appendChild(r):l(s,r)}!function(e,t){var a=e.getAttribute("data-id"),n=document.querySelectorAll("#".concat(y,' [data-id="').concat(a,'"] .items > li')),i=[];if(!u("reactive")||t){o(n,(function(e,t){for(var a=t.firstElementChild,n=a.firstElementChild,o={id:a.getAttribute("data-id"),src:a.getAttribute("href"),length:a.getAttribute("data-length"),type:a.getAttribute("data-type"),time:a.getAttribute("data-time"),link:a.getAttribute("data-link"),linkText:a.getAttribute("data-linkText"),preview:n.getAttribute("src")},c=a.attributes,r=["data-id","href","data-length","data-type","data-time","data-link","data-linktext"],s=0;s<c.length;s++)-1===r.indexOf(c[s].nodeName)&&(o[c[s].nodeName.replace("data-","")]=c[s].nodeValue);i.push(o)})),d.data[a].items=i;var c=u("callbacks","onDataUpdate");c&&c(d.data,(function(){}))}}(c)},d.removeItem=function(t,a){var i=n("#".concat(y,' > [data-id="').concat(t,'"] [data-id="').concat(a,'"]'));u("reactive")||e.parentNode.removeChild(i)},d.navigateItem=d.nextItem=function(e,t){var a=d.internalData.currentStory,i=d.data[a].currentItem,c=n('#zuck-modal .story-viewer[data-story-id="'.concat(a,'"]')),r="previous"===e?-1:1;if(!c||1===c.touchMove)return!1;var s=c.querySelectorAll('[data-index="'.concat(i,'"]')),l=s[0],m=s[1],v=i+r,f=c.querySelectorAll('[data-index="'.concat(v,'"]')),y=f[0],h=f[1];if(c&&y&&h){var b=u("callbacks","onNavigateItem");(b=u("callbacks",b?"onNavigateItem":"onNextItem"))(a,h.getAttribute("data-story-id"),(function(){"previous"===e?(l.classList.remove("seen"),m.classList.remove("seen")):(l.classList.add("seen"),m.classList.add("seen")),l.classList.remove("active"),m.classList.remove("active"),y.classList.remove("seen"),y.classList.add("active"),h.classList.remove("seen"),h.classList.add("active"),o(c.querySelectorAll(".time"),(function(e,t){t.innerText=p(h.getAttribute("data-time"))})),d.data[a].currentItem=d.data[a].currentItem+r,x(c,f,t)}))}else c&&"previous"!==e&&g.next(t)};return function(){if(e&&e.querySelector(".story")&&o(e.querySelectorAll(".story"),(function(e,t){b(t)})),u("backNative")&&(a.location.hash==="#!".concat(y)&&(a.location.hash=""),a.addEventListener("popstate",(function(e){a.location.hash!=="#!".concat(y)&&(a.location.hash="")}),!1)),!u("reactive")){var t=A("seenItems");o(Object.keys(t),(function(e,a){d.data[a]&&(d.data[a].seen=t[a])}))}o(u("stories"),(function(e,t){d.add(t,!0)})),w();var n=u("avatars")?"user-icon":"story-preview",i=u("list")?"list":"carousel",c=u("rtl")?"rtl":"";return e.className+=" stories ".concat(n," ").concat(i," ").concat("".concat(u("skin")).toLowerCase()," ").concat(c),d}()};return d.buildTimelineItem=function(e,t,a,n,i,c){var r={id:e,photo:t,name:a,link:n,lastUpdated:i,items:[]};return o(c,(function(e,t){r.items.push(d.buildStoryItem.apply(d,t))})),r},d.buildItem=d.buildStoryItem=function(e,t,a,n,i,o,c,r,s){return{id:e,type:t,length:a,src:n,preview:i,link:o,linkText:c,seen:r,time:s}},e.exports&&(t=e.exports=d),t.ZuckJS=d,d}(window||{})}]);